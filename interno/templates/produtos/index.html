{% extends 'base.html'%}

{% block body %}
    <div class="columns is-centered title is-1">
        <h1 class="title"> Lista de Produtos </h1>
    </div>
    <a 
        class="button is-black is-pulled-right mb-3"
        href="/interno/produto/cadastrar">
        <span class="icon">
            <i class="fa-solid fa-plus"></i>
        </span>
        <span>Cadastrar</span>
    </a>
    <table class="table is-striped is-fullwidth is-bordered is-hoverable ">
        <thead>
            <tr>
                <th>Código</th>
                <th>Imagem</th>
                <th>Nome</th>
                <th>Categoria</th>
                <th>Preço</th>
                <th>Ação</th>
            </tr>
        </thead>
        <tbody>
            {% for produto in produtos %}
            <tr>    
                <td>{{produto.pk}}</td>
                <td>
                    {% if produto.imagem and produto.imagem.url %}
                    <figure class="image is-128x128">
                        <img src="{{produto.imagem.url}}" class="is-rounded" >                   
                    {% else %}
                        <span>Imagem não cadastrada</span>
                    {% endif %}
                </td>
                <td>{{produto.nome}}</td>
                <td>{{produto.categoria.nome}}</td>
                <td>R$ {{produto.preco}}</td>
                <td>
                    <a 
                        class="button is-warning"
                        href="/interno/produto/editar/{{produto.pk}}">
                        <span class="icon">
                            <i class="fa-solid fa-pencil"></i>
                        </span>
                        <span>
                            Editar
                        </span>
                        </a>
                    <a 
                        class="button is-danger is-outlined"
                        href="/interno/produto/apagar/{{produto.pk}}">
                        <span class="icon">
                            <i class="fa-solid fa-trash"></i>
                        </span>
                        <span>Apagar</span>
                    </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
{% endblock %}
